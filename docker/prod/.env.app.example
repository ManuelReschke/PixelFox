# PixelFox App – Production .env (example)

# Image tag for the app (used by compose variable substitution). You can
# also export APP_IMAGE in your shell instead of keeping it here.
APP_IMAGE=registry.example.com/pixelfox/app:latest

# Public base URL of your site. Used to initialize storage pool defaults.
PUBLIC_DOMAIN=https://pixelfox.cc

# App settings
APP_ENV=prod
APP_HOST=0.0.0.0
APP_PORT=4000

# Database connection (remote DB host)
DB_HOST=10.0.0.10
DB_PORT=3306
DB_NAME=pixelfox_db
DB_USER=pixelfox
DB_PASSWORD=change_me
# Optional: disable startup AutoMigrate (default is enabled)
#DB_AUTO_MIGRATE=0

# Cache connection (remote Dragonfly/Redis host)
CACHE_HOST=10.0.0.20
CACHE_PORT=6379
CACHE_PASSWORD=

# Critical secrets – set strong random values
UPLOAD_TOKEN_SECRET=change_this_secret
REPLICATION_SECRET=change_this_replication_secret

# Optional: hCaptcha (production keys)
HCAPTCHA_SECRET=
HCAPTCHA_SITEKEY=

# SMTP (transactional email)
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_SENDER=postmaster@your-domain

# Optional internal metrics route password
PROTECTED_ROUTE_METRICS_PW=change_me

# Optional: S3 backup configuration
#S3_BACKUP_ENABLED=true
#S3_ACCESS_KEY_ID=
#S3_SECRET_ACCESS_KEY=
#S3_REGION=eu-central-1
#S3_BUCKET_NAME=pixelfox-backup-prod
#S3_ENDPOINT_URL=

# Patreon Billing (MVP)
PATREON_CLIENT_ID=change_me
PATREON_CLIENT_SECRET=change_me
PATREON_REDIRECT_URI=https://pixelfox.cc/user/settings/billing/patreon/callback
PATREON_WEBHOOK_SECRET=change_me
PATREON_CAMPAIGN_URL=https://www.patreon.com/cw/PixelFoxcc
PATREON_CHECKOUT_PREMIUM_URL=https://www.patreon.com/checkout/PixelFoxcc?rid=28043047&vanity=14850240
PATREON_CHECKOUT_PREMIUM_MAX_URL=https://www.patreon.com/checkout/PixelFoxcc?rid=28043053&vanity=14850240

# Optional Patreon endpoint overrides (usually keep defaults)
#PATREON_AUTHORIZE_URL=https://www.patreon.com/oauth2/authorize
#PATREON_TOKEN_URL=https://www.patreon.com/api/oauth2/token
#PATREON_API_BASE_URL=https://www.patreon.com/api/oauth2/v2
